{% extends "base.html" %}
{% load i18n %}

{% block head %}
<script type="text/javascript">
$(document).ready(function() {

    $('.actor').click(function() {
        var aid = $(this).attr('id').split('-')[1];
        $("#id_actor").val(aid);
        // FIXME
        $('.actor').removeClass('btn-selected');
        $(this).addClass('btn-selected');
    });

    $('.command').click(function() {
        var cid = $(this).attr('id').split('-')[1];
        $("#id_command").val(cid);
        // FIXME
        $('.command').removeClass('stick-selected');
        $(this).addClass('stick-selected');
    });

    $('#hard-submit').click(function() {
        $.post(
            $('#hard-mode-form').attr('action'),
            $("#hard-mode-form").serialize(),
               function( data ) {
                   // FIXME
                   $('.actor').removeClass('btn-selected');
                   $('.command').removeClass('stick-selected');
                   $('#id_actor').val('');
                   $('#id_command').val('');
              });
    });

    $('#hard-mode-message-submit').click(function() {
        $.post(
            $('#hard-mode-message-form').attr('action'),
            $("#hard-mode-message-form").serialize(),
               function( data ) {
                   // FIXME
                   $('#id_message').val('');
              });
    });


});
</script>
{% endblock %}

{% block content %}
<div class="container">
    <form id="hard-mode-form" method="post" action="{{ spectacle.hard_add_url }}">{% csrf_token %}
        {% for hidden in hard_mode_form.hidden_fields %} {{ hidden }} {% endfor %}
        <div id="hard-actors" class="row">
            <ul>
                {% for a in actors %}
                <li class="block-b">
                    <div  id="actor-{{ a.id }}" class="actor btn">{{ a.name }}</div>
                </li>
                {% endfor %}
            </ul>
        </div>
        <div id="hard-commands" class="row">
            <ul>
            {% for c in commands %}
            <li class="block">
                <div id="command-{{ c.id }}" class="stick command">{{ c.name }}</div>
            </li>
            {% endfor %}
            </ul>
        </div>
        <div class="block-a"><input type="button" id="hard-submit" class="submit" value="Submit"></div>
    </form>
    <form id="hard-mode-message-form" method="post" action="{{ spectacle.hard_message_add_url }}">{% csrf_token %}
        {% for hidden in hard_mode_message_form.hidden_fields %} {{ hidden }} {% endfor %}
        <div id="hard-mode-message" class="row">
            <div class="block-a">{{ hard_mode_message_form.message }}</div>
            <div class="block-a"><input type="button" id="hard-mode-message-submit" class="submit" value="Submit"></div>
        </div>
    </form>
</div>
{% endblock %}
